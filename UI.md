# 代理软件 UI/UX 设计规范 (macOS / Windows)

**设计目标：** 功能强大，操作简单（Powerful Features, Minimalist UI）

**受众：** 普通用户（日常使用）和高级用户（精细配置）

---

## 🚀 核心设计哲学：一键操作 (One-Click Simplicity)

### 1. 主界面 (Main View)

主界面应极致精简，所有功能围绕连接状态和核心开关展开。

| 区域 | 目的 | 视觉/交互要素 |
| :--- | :--- | :--- |
| **主开关** | 核心操作：连接/断开。 | 巨大的圆形按钮，**绿色（ON）/灰色（OFF）**，即时状态反馈。 |
| **当前状态** | 显示关键运行信息。 | 节点名称、实时延迟（如：`US-LA: 32ms`）、当前连接模式。 |
| **实时流量** | 增强透明度，显示软件正在工作。 | 简洁的**实时曲线图**或数字，显示上传/下载速度。 |

期望草图如下：
+------------------------------------------+
|  系统图标            [ ⚙️ 设置 ]            | <-- 设置入口据右侧
|                                          |
|            < 当前连接状态: 🟢 已连接 >     |  <- 已链接/未链接
|                                          |
|                +-----------------+       |
|                |     🟢 ON       |       |
|                +-----------------+       |
|                                          |
|           🌐 节点: US - LA - 32ms        |  <-- 当前节点信息， 点击可弹窗选择节点
|           ⚙️ 模式: 智能模式 (Smart)      |  <-- 简化后的模式选择（直连/全局/智能）
|                                          |
|           < 实时流量图 (微小曲线) >      |
|                                          |
+------------------------------------------+

### 2. 跨平台交互点（系统托盘）

| 平台 | 快捷入口 | 提供的功能 |
| :--- | :--- | :--- |
| **macOS** | 菜单栏 (Menu Bar) | 快速开关、节点选择下拉列表、进入设置。 |
| **Windows** | 系统托盘 (System Tray) | 右键菜单，快速开关、节点选择子菜单、进入设置。 |
系统托盘区域 按钮如下
显示主界面
代理模式设置
    子菜单：
设置
关于

---

## 📋 节点选择界面 (Node Selection View)

此界面追求高效率和信息透明度。

### 1. 列表信息设计

每行节点信息必须清晰、精确且可读性高：

* **地区** 用于快速识别地理位置。地区（随语言）/
* **节点名称：** 订阅列表中获取的
* **延迟指标：** 必须以 **数字毫秒 (ms)** 显示，并用颜色区分：
    * **🟢 绿色:** 优秀 (e.g., `< 100ms`)
    * **🟡 黄色:** 尚可 (e.g., `100-200ms`)
    * **🔴 红色:** 差或超时 (e.g., `> 200ms`)
* **负载/拥堵：** 小型指示器（如：`Low`, `Medium`, `High`）或小型进度条。

期望草图如下：
+------------------------------------------+
|  < 节点选择 >                            |
|                                          |
|  [ 🔍 搜索节点... ]  [ 🔃 一键测速 ]     |
|------------------------------------------|
| **⭐ 我的收藏 (Favorites)** |
|  地区｜ CA-Toronto   | 🟢 58ms  | L (Low) |  <-- 收藏的，延迟优秀
|------------------------------------------|
| **🌍 所有节点 (All Nodes)** |
|  US ｜ US-LA        | 🟢 32ms  | M (Medium)|  <-- 最优解
|  JP ｜ JP-Tokyo     | 🟡 120ms | M (Medium)|  <-- 延迟尚可
|  AU ｜ AU-Sydney    | 🔴 350ms | H (High) |  <-- 延迟太高
|  CN ｜ CN-Direct    | ⚪ N/A   | -       |
|                                          |
+------------------------------------------+

### 2. 交互与筛选优化

* **全局搜索栏：** 支持按名称、地区、标签实时搜索。
* **一键测速按钮 (🔃)：** 用户点击后，批量更新所有节点的实时延迟数据。
* **收藏夹分组 (⭐)：** 将常用或最优节点固定在列表顶部。
* **智能排序：** 默认按延迟从小到大排序。

---

## 📝 日志与调试 (Logs & Debugging)

设计宗旨：默认隐藏，需要时深入。

### 1. 简易状态中心 (主界面)

仅在核心操作区显示**极简的状态通知**（如：`Connected to [Node Name]`），几秒后自动消失。

### 2. 高级日志面板 (独立子窗口/标签页)

此面板用于故障排查，必须提供过滤和导出功能。

* **日志级别过滤：** 颜色区分 `INFO` (信息)、`WARN` (警告)、`ERROR` (错误)、`DEBUG` (调试)。
* **时间戳：** 精确到毫秒，方便定位问题。
* **操作按钮：** `📄 复制所有日志`、`🗑️ 清空日志`。
* **搜索与过滤：** 允许按关键词或日志级别筛选。

草图如下：
+------------------------------------------+
|  < 设置 / 日志 >                         |
|                                          |
|  [ ERROR ] [ WARN ] [ INFO ] [ DEBUG ]   |  <-- 过滤标签
|  [ 📄 复制日志 ] [ 🗑️ 清空 ]              |
|------------------------------------------|
| 23:30:01.215 | [INFO]  Connected to US-LA. |
| 23:30:15.890 | [DEBUG] Rule matched: google.com |
| 23:31:05.441 | [WARN]  Low disk space warning. |
| 23:31:30.901 | [ERROR] Failed to refresh subscription. |
| ...                                      |
+------------------------------------------+

---

## ⚙️ 设置界面 (Settings View)

采用左侧导航栏 + 右侧内容区的布局，集中高级配置。

### 1. 通用设置 (General)

| 配置项 | 描述 |
| :--- | :--- |
| 开机自启动 | 启用/禁用。 |
| 界面主题 | 浅色/深色/跟随系统。 |
| 系统托盘/菜单栏图标 | 启用/禁用显示。 |

### 2. 连接与核心协议 (Connection & Protocol)

| 配置项 | 描述 |
| :--- | :--- |
| **本地监听端口** | 高级用户自定义端口号。 |
| **系统代理接管** | 是否自动配置系统代理设置。 |
| **UDP 转发** | 启用/禁用 TUP 转发。 |

### 3. 订阅与节点管理 (Subscription Management)

| 配置项 | 描述 |
| :--- | :--- |
| 订阅列表 | 管理订阅链接（增删改）。 |
| 自动更新频率 | 设置检查订阅更新的时间间隔。 |
| 立即刷新 | 手动触发所有订阅更新。 |

### 4. 分流规则与模式 (Routing Rules)

| 配置项 | 描述 |
| :--- | :--- |
| 自定义模式管理 | 允许用户创建“工作”、“游戏”等自定义情景模式。 |
| **应用排除列表** | 设置永远直连的应用程序列表。 |
| 外部规则集 | 导入 URL 或本地规则文件。 |
| DNS 配置 | 自定义 DNS 服务器列表。 |

### 5. 调试与数据 (Debugging & Data)

| 配置项 | 描述 |
| :--- | :--- |
| 查看详细日志 | 跳转至高级日志面板。 |
| 实时流量统计 | 每日/每月数据使用量图表。 |
| 缓存管理 | 清除 DNS 或规则缓存。 |
| 系统诊断 | 运行网络自检工具。 |

### 6. 关于与反馈 (About & Feedback)

| 配置项 | 描述 |
| :--- | :--- |
| 版本信息 | 显示当前的软件版本号。 |
| 检查更新 | 手动检查是否有新版本发布。 |
| 提交反馈 | 链接至您的帮助文档或反馈平台。 |

期望草图如下：

+----------------------------------------------------+
| 设置                                             [✕]|
+----------------------------------------------------+
| 常规  |                                           |
| 连接  |   ┌─────────────────────────────────────┐ |
| 订阅  |   │   [当前选中: 常规设置 General]      │ |    <- 选择其他的选项时在此处展示
| 分流  |   └─────────────────────────────────────┘ |
| 调试  |                                           |
| 关于  |                                           |
+--------+-------------------------------------------+
| 常规设置 (General)                                |
|                                                   |
| [ ] 开机自启动                                    |
| 主题:  (o 浅色)  (o 深色)  (o 跟随系统)           |
| [ ] 显示系统托盘/菜单栏图标                       |
|                                                   |
| ------------------------------------------------- |
| 连接与协议 (Connection & Protocol)                |
|  本地监听端口:  [  1080    ]                      |
|  [ ] 系统代理接管                                 |
|  [ ] 启用 UDP 转发                                |
|                                                   |
| ------------------------------------------------- |
| 订阅与节点管理 (Subscription)                     |
|  订阅列表: [ 管理... ]                            |
|  自动更新频率: [  每 6 小时 ▼ ]                   |
|  [ 立即刷新 ]                                     |
|                                                   |
| ------------------------------------------------- |
| 分流规则 (Routing Rules)                          |
|  [ 管理自定义模式... ]                            |
|  应用排除列表: [ 编辑... ]                        |
|  外部规则集:    [ 添加 URL / 文件... ]            |
|  DNS 配置:      [ 自定义服务器... ]               |
|                                                   |
| ------------------------------------------------- |
| 调试与数据 / 关于                                 |
|  [ 查看详细日志 ]    [ 打开流量统计 ]             |
|  [ 清除缓存 ]        [ 运行系统诊断 ]             |
|  版本: v1.0.0    [ 检查更新 ]  [ 提交反馈 ]       |
+----------------------------------------------------+
---

## 📚 专业术语概念解释 (Glossary)

以下解释帮助用户理解设置界面中的高级选项：

### 1. **系统代理接管 (System Proxy Hijacking)**

| 术语 | 概念解释 | 对用户的影响 |
| :--- | :--- | :--- |
| **系统代理** | 操作系统（如 Windows 或 macOS）内置的网络配置，告诉所有应用（如浏览器、邮件客户端）如何访问互联网。 | 启用此功能后，您的代理软件将 **自动配置** 系统的网络设置，确保所有应用流量都通过它进行管理和分流，实现一键全局代理。 |

### 2. **本地监听端口 (Local Listening Port)**

| 术语 | 概念解释 | 对用户的影响 |
| :--- | :--- | :--- |
| **监听端口** | 您的代理软件在本地电脑上开放的一个网络接口。其他应用会通过连接到这个端口来使用代理服务。 | 如果此端口被电脑上的其他软件占用，代理将无法正常启动，需要手动修改。 |

### 3. **UDP 转发 (User Datagram Protocol Forwarding)**

| 术语 | 概念解释 | 对用户的影响 |
| :--- | :--- | :--- |
| **UDP** | 互联网上的一种传输协议，特点是 **速度快但不可靠**。常用于对实时性要求高的应用。 | **重要用途：** 网络游戏、实时语音 (VoIP) 和视频通话。如果禁用 UDP 转发，您可能无法使用代理进行这些活动。 |

### 4. **分流模式/规则 (Routing Rules)**

| 术语 | 概念解释 | 对用户的影响 |
| :--- | :--- | :--- |
| **分流** | 决定哪些网络请求走代理，哪些请求直连互联网的逻辑机制。 | **智能模式** 基于规则自动分流，最大限度保证访问效果。**全局模式** 则让所有流量都走代理。 |

### 5. **应用排除列表 (Application Exclusion List)**

| 术语 | 概念解释 | 对用户的影响 |
| :--- | :--- | :--- |
| **排除列表** | 一个应用程序的白名单。名单内的应用流量将 **被强制直连**，不受任何代理规则影响。 | **重要用途：** 用于某些需要访问本地局域网资源，或与代理冲突的应用，保证它们绝对不走代理。 |